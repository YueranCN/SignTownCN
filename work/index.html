<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>手语村</title>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 预载图像
            const imagesToLoad = [
                'images/index/top.png',
                'images/index/map.png',
                'images/index/yun.png',
                'images/index/yun1.png',
                'images/index/yun3.png',
                'images/index/yun4.png',
                'images/index/yun5.png',
                'images/index/map1.png',
                'images/index/map2.png',
                'images/index/map3.png',
                'images/play/map4.png',
                'images/play/map5.png',
                'images/play/map-1.png',
                'images/play/map-2.png',
                'images/play/map-3.png',
                'images/play/notes1_hover.png',
                'images/play/notes2_hover.png',
                'images/play/people2.png',
                'images/play/people3.png',
            ];
            let imagesLoaded = 0;
            const totalImages = imagesToLoad.length;

            function imageLoaded() {
                imagesLoaded += 1;
                if (imagesLoaded === totalImages) {
                    document.body.style.display = 'block';
                }
            }

            imagesToLoad.forEach(src => {
                const img = new Image();
                img.onload = imageLoaded;
                img.onerror = imageLoaded;
                img.src = src;
            });
        });
    </script>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            height: 100vh;
            background-color: rgb(249, 190, 122);
        }
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #e9dac8;
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
            z-index: 999;
        }
        img {
            position: absolute;
            width: auto;
            height: auto;
            transform: translate(-50%, -50%);
        }
        .img-1 { width: 58%; top: 50%; left: 50%; animation: fadeIn 7s ease-out forwards; }
        .img-2 { width: 25%; top: 30%; left: 31%; animation: slideInFromTop 4s ease-out forwards, bounce 2s ease-in-out infinite; }
        .img-3 { width: 18%; top: 20%; left: 37%; animation: slideInFromLeft 4s ease-out forwards; }
        .img-4 { width: 18%; top: 68%; left: 25%; animation: slideInFromLeft 4s ease-out forwards; }
        .img-5 { width: 18%; top: 24%; left: 67%; animation: slideInFromRight 4s ease-out forwards; }
        .img-6 { width: 14%; top: 46%; left: 82%; animation: slideInFromRight 4s ease-out forwards; }
        .img-7 { width: 25%; top: 80%; left: 50%; animation: slideInFromLeft 4s ease-out forwards; }

        .map-1 { width: 2%; top: 56%; left: 45%; animation: fadeInAndPulse 12s ease-out infinite; }
        .map-2 { width: 2%; top: 42%; left: 60%; animation: fadeInAndPulse 12s ease-out infinite; }
        .map-3 { width: 2%; top: 64%; left: 58%; animation: fadeInAndPulse 12s ease-out infinite; }

        /* 为各种动画组合关键帧 */
        @keyframes slideInFromLeft {
            from { transform: translate(-100%, -50%); }
            to { transform: translate(-50%, -50%); }
        }
        @keyframes slideInFromRight {
            from { transform: translate(100%, -50%); }
            to { transform: translate(-50%, -50%); }
        }
        @keyframes slideInFromTop {
            from { transform: translate(-50%, -100%); }
            to { transform: translate(-50%, -50%); }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes fadeInAndPulse {
            0%, 16.7% { opacity: 0; transform: scale(1); }
            25%, 50%, 75%, 100% { transform: scale(1); }
            37.5%, 62.5%, 87.5% { transform: scale(1.5); }
        }
        @keyframes bounce {
            0%, 100% { transform: translate(-50%, -50%) translateY(0); }
            50% { transform: translate(-50%, -50%) translateY(-10px); }
        }
    </style>
</head>
<body>

<!-- 页面内容 -->
<img src="images/index/top.png" class="img-2" alt="top">
<img src="images/index/map.png" class="img-1" alt="home">
<img src="images/index/yun.png" class="img-3" alt="yun">
<img src="images/index/yun1.png" class="img-4" alt="yun">
<img src="images/index/yun3.png" class="img-5" alt="yun">
<img src="images/index/yun4.png" class="img-6" alt="yun">
<img src="images/index/yun5.png" class="img-7" alt="yun">

<a href="play1.html"><img src="images/index/map1.png" class="map-1" alt="map"></a>
<a href="play2.html"><img src="images/index/map2.png" class="map-2" alt="map"></a>
<a href="play3.html"><img src="images/index/map3.png" class="map-3" alt="map"></a>

<div class="overlay" id="fadeOverlay"></div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const links = document.querySelectorAll('a');
        const overlay = document.getElementById('fadeOverlay');

        links.forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const destination = this.href;

                overlay.style.opacity = '1';
                overlay.style.pointerEvents = 'auto';

                setTimeout(() => {
                    window.location.href = destination;
                }, 500);
            });
        });
    });
</script>
</body>
</html>
